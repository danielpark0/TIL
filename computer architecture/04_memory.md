## 메모리 계층

기억장치는 CPU에 의하여 시행될 프로그램이 저장되는 곳으로 이는 주 기억장치와 보조기억장치 그리고 캐쉬 메모리로 분류된다.

- 주 기억장치
  - 마더보드에 장착됨 - RAM
    - 비교적 대용량, 고속의 속도를 지님, 휘발성 성질을 지님
  - ROM도 주 기억장치의 일종
- 캐쉬 메모리
  - 주기억장치 접근 시간 > 프로세스 논리회로 ->MMS&CPU
  - 현재 진행되고 있는 프로그램의 일부 또는 사용빈도가 높은 임시 데이터 저장
- 보조 기억장치
  - 비교적 저속, 대용량의 자료보관이 가능하다.
  - 보조기억장치 내 자료는 필요한 경우 주 기억 장치로 옮겨져야한다.
  - Magnetic Tape, USB, SD card - 필요한 파일의 생성 및 삭제가 가능
  - Magnetic drum, disk - back up 저장 장치
  - 코어 메모리, megnetic bubble, CCD 등의 대용량 저장 장치
- 왜? 메모리를 계층별로 나누어서 사용할까? - 입출력의 경제성 때문

### Associative 메모리

- 내용에 의해 접근하는 메모리 장치를 이르는 용어
  - 메모리 장치란 자료의 저장과 접근을 용이하게 하기위해 필요로 하는 장치
  - 결국 이상의 필요에  따라 CPU는 필요한 자료를 얻기 위해 메모리 장치에 탐색을 하게 될 수밖에 없고
  - 좀더 효율적 탐색이 가능할 수 있는 저장 공간의 필요에 의해 만들어진 저장 형태를 우리는 이렇게 (또는, CAM) 명명한다.
- 이 방식은 데이터의 내용으로 병렬 탐색을 하기에 적합하도록 구성되어있으며, 탐색은 전체 워드 또는 한 워드 내의 일부를 가지고 실행 될 수 있다.
- associative memory는 각 셀이 저장 능력 뿐아니라 외부의 인자와 내용을 비교하기 위한 논리회로를 갖고 있기 때문에 RAM보다 값이 비싸다.

### Cache 메모리

참조의 국한성

- 프로그램이 수행되는 동안 메모리 참조는 국한된 영역에서만 이루어지는 경향이 있음을 확인할 수 있다.
  - 프로그램 루프와 서브루틴의 빈번한 활용
  - 순차적 프로그램의 실행
  - 데이터 메모리 참조에서도 동일한 경향이 있음을 확인 할 수 있다.
    - 테이블 룩업 절차
    - 공통 메모리와 배열 사용 예

- 캐시 메모리
  - 이와 같이 참조의 국한성을 이용하여 속도는 빠르고, 조그만 메모리를 이용하여 프로그램을 수행 시킬 경우 평균 메모리 접근시간의 단축과 그에 따른 전체 프로그램 수행 시간의 절약을 담보할 수 있을 것이다 이러한 기억 공간을 우리는 캐쉬메모리라 한다.

- 캐시 메모리의 동작과 성능

  - Cache의 기본 동작
    - Cache를 체크
    - 워드가 캐시에서 발견되면 hit 읽어들이고 아닐경우 miss 주 기억장치에 접근
    - 이 워드를 포함한 블록을 캐시로 전송한다.

  - Hit ratio
    - hit 수 / CPU에 의한 메모리 참조 총 수 일반적으로 90% (0.9)

- 캐시 메모리의 매핑 프로세스
  - 효율적 메모리 관리를 위해서는 효과적으로 캐시를 구성하는 방법이 현존하는 메모리 관리 방법 중 최고의 방법임은 이론의 여지가 없다.
  - 다음과 같은 방법들이 존재
    - associative mapping
    - direct mapping
    - set-associative mapping